@model IEnumerable<FSD_P2_T02_Group2.Models.Counsellor>
@{
    Layout = "_UserLayout";
}
<style>
    table {
        font-family: Josefin Sans,sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    tr:nth-child(even) {
        background-color: #dddddd;
    }
</style>
<div class="wrap-contact100">
    <div class="table-responsive">
        <table id="viewPendingCounsellors" class="table table-striped table-bordered">
            <thead class="thead-dark">
                @if (ViewBag.counsellorList != null)
                {
                    <tr>
                        <th>Counsellor ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Date of Birth</th>
                        <th>Date of Creation</th>
                        <th>Self Image</th>
                        <th>Certificate</th>
                        <th>Action</th>
                    </tr>
                }
            </thead>
            <tbody>
                @if (ViewBag.counsellorList == null)
                {
                    <div style="text-align: center;">
                        <img src="~/images/Empty.png" />
                    </div>
                }
                else
                {
                    @foreach (Counsellor item in ViewBag.counsellorList)
                    {
                        <tr>
                            <td>@item.counsellorID</td>
                            <td>@item.Name</td>
                            <td>@item.Email</td>
                            <td>@item.PhoneNumber</td>
                            <td>@item.DateBirth</td>
                            <td>@item.DateCreated</td>
                            <td><button value="@item.Image" onclick="genericPopup(this.value)">View</button></td>
                            <td><button value="@item.Certificate" onclick="genericPopup(this.value)">View</button></td>
                            <td>
                                <button><a asp-controller="Admin" asp-action="DeleteCounsellor" asp-route-id=@item.counsellorID>Revoke Account</a></button>
                            </td>
                        </tr>

                    }
                }
            </tbody>
        </table>

    </div>
</div>

<script>function genericPopup(val) {
        var newTab = window.open();
        newTab.document.body.innerHTML = '<img src="' + val + '">';
    }</script>
